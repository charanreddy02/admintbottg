<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <!-- Main Loader -->
    <div id="main-loader" class="loader-container"><div class="loader"></div></div>

    <!-- Login Screen -->
    <div id="login-container" class="hidden">
        <div class="login-card">
            <h2>Admin Panel</h2>
            <p>Please sign in to continue</p>
            <input type="email" id="login-email" placeholder="Email">
            <input type="password" id="login-password" placeholder="Password">
            <button id="login-btn">
                <span class="btn-text">Login</span>
                <span class="btn-loader loader hidden"></span>
            </button>
        </div>
    </div>

    <!-- Main Admin Panel -->
    <div id="admin-panel" class="hidden">
        <header>
            <h1>Dashboard</h1>
            <button id="logout-btn"><i class="fas fa-sign-out-alt"></i></button>
        </header>
        <nav>
            <button class="tab-btn active" data-tab="dashboard"><i class="fas fa-chart-line"></i><span>Dashboard</span></button>
            <button class="tab-btn" data-tab="withdrawals"><i class="fas fa-wallet"></i><span>Withdrawals</span></button>
            <button class="tab-btn" data-tab="users"><i class="fas fa-users"></i><span>Users</span></button>
            <button class="tab-btn" data-tab="tasks"><i class="fas fa-tasks"></i><span>Tasks</span></button>
        </nav>
        <main>
            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content active">
                <div class="stats-grid">
                    <div class="stat-card"><h4>Total Users</h4><p id="stat-total-users">0</p></div>
                    <div class="stat-card"><h4>Active Today</h4><p id="stat-active-today">0</p></div>
                </div>
            </div>

            <!-- Withdrawals Tab -->
            <div id="withdrawals-tab" class="tab-content">
                <div class="table-container" id="withdrawals-table-container">
                    <!-- Table will be generated by JS -->
                </div>
            </div>

            <!-- Users Tab -->
            <div id="users-tab" class="tab-content">
                <div class="search-container">
                    <input type="text" id="user-search-input" placeholder="Search by name, ID, or mobile...">
                </div>
                <div class="table-container" id="users-table-container">
                    <!-- Table will be generated by JS -->
                </div>
            </div>

            <!-- Tasks Tab -->
            <div id="tasks-tab" class="tab-content">
                <h3>Create New Daily Task</h3>
                <div class="form-container">
                    <input type="text" id="task-title" placeholder="Task Title">
                    <input type="text" id="task-desc" placeholder="Task Description">
                    <input type="number" id="task-reward" placeholder="Reward (Rs)">
                    <button id="add-task-btn">Add Task</button>
                </div>
                <h3>Current Tasks</h3>
                <div class="table-container" id="tasks-table-container">
                    <!-- Table will be generated by JS -->
                </div>
            </div>
        </main>
    </div>

    <!-- Modals & Toasts -->
    <div id="modal-backdrop" class="hidden">
        <div id="confirmation-modal" class="modal">
            <h4 id="confirmation-title">Are you sure?</h4>
            <p id="confirmation-message"></p>
            <div class="modal-actions">
                <button id="confirm-action-btn" class="btn-confirm">Confirm</button>
                <button class="close-modal-btn btn-cancel">Cancel</button>
            </div>
        </div>
    </div>
    <div id="toast-container"></div>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="admin.js"></script>

</body>
                    </html>
